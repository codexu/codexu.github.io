# 知识库

![image.png](https://s2.loli.net/2025/07/10/57gNKq8CPa6kZ1V.png)

## 配置模型

要使用知识库需要配置嵌入模型（必须）、重排序模型（可选），相关配置请参考 [模型配置](/zh/settings/model-config)。

配置后可以在记录页面对话框中开启知识库功能：

![image.png](https://s2.loli.net/2025/07/10/DgjJU7rNypiH1kb.png)

> 开启过程中将检测模型可用状态。

## 知识库向量计算

知识库功能是基于 RAG 原理来实现的，通过将 Markdown 文件转换为向量进行存储和搜索，整个过程是通过嵌入模型来完成的。

首次使用时，如果写作页面中，如果已存在 Markdown 文件，可以先执行全量计算（可选）：

![image.png](https://s2.loli.net/2025/07/10/TErOmSFLPqo1Xtb.png)

后续写作时不需要每次都执行全量计算，在写作时自动保存时会自动计算。

> 此过程会消耗嵌入模型资源，可以酌情使用或采用免费模型。

## 参数设置

如果你对知识库相关知识不了解，可以忽略，使用默认值即可。

使用知识库时，不一定可以完整的匹配到你需要的信息，通过调解参数，可以更加精确的控制知识库的检索效果：

- 分块大小：文本分块的最大字符数，较大的分块可能包含更多上下文，但会增加向量计算的复杂度。
- 重叠大小：文本分块间的重叠字符数，较大的重叠可以保持上下文连贯性。
- 检索数量：检索时返回的相关文档数量，数量越多提供的信息可能更丰富，但也可能引入噪声。
- 相似度阈值：文档与查询的最小相似度阈值，只有超过此阈值的文档才会被返回。值范围 0.0-1.0，越高要求越严格。